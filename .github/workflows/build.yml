name: Build nlp-api image [Python 3.8]
on: 
  push:
    jobs:
      build:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v2
          - name: Build using Python 3.8
            uses: actions/setup-python@v2
            with:
              python-version: 3.8
          - name: install dependencies [pip]
            run: |
              python -m pip install pip --upgrade pip
              pip install flake8
              if [-f requirements.txt ]; then pip install -r requirements.txt; fi
              pip install -e .

          - name: test with linter [flake8]
            run: flake8 .
